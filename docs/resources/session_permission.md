# Resource: kasm_session_permission

Manages permissions for shared Kasm sessions. This resource allows you to control which users can access a session and their level of access (read-only, read-write, or frozen).

## Example Usage

```hcl
# Set individual user permissions
resource "kasm_session_permission" "example" {
  kasm_id = "e31320b3-4ef2-41dd-aa6e-f9e85270cd7e"

  user_permissions = [
    {
      user_id = "2e559e29-9bf1-45a2-8c08-c30c7c253e42"
      access  = "rw"  # Read-write access
    },
    {
      user_id = "e64c996c-efc1-4754-8f71-816a78619f39"
      access  = "r"   # Read-only access
    },
    {
      user_id = "5edbadc6-886e-4ad8-9ff7-97f396a9d747"
      access  = ""    # Frozen access
    }
  ]
}

# Set global access level for all participants
resource "kasm_session_permission" "global_example" {
  kasm_id       = "e31320b3-4ef2-41dd-aa6e-f9e85270cd7e"
  global_access = "r"  # All participants get read-only access
}
```

## Argument Reference

* `kasm_id` - (Required) The ID of the Kasm session to set permissions for.
* `global_access` - (Optional) Global access level for all participants. Valid values are:
  * `"rw"` - Read-write access (can control inputs)
  * `"r"` - Read-only access (receives screen updates but cannot control)
  * `""` - Frozen access (can connect but won't receive screen updates)
* `user_permissions` - (Optional) List of user-specific permissions. Cannot be used together with `global_access`. Each permission block supports:
  * `user_id` - (Required) The ID of the user to grant access to.
  * `access` - (Required) The access level for this user. Same values as `global_access`.

## Attribute Reference

* `id` - The ID of the session permission (same as `kasm_id`).
* `user_permissions` - The list of user permissions, including computed fields:
  * `vnc_username` - The auto-generated VNC username for this permission.
  * `username` - The username of the user.

## Import

Session permissions can be imported using the Kasm session ID:

```shell
terraform import kasm_session_permission.example <kasm_id>
```

## Notes

* The session must be in Sharing mode for these permissions to take effect.
* You can either set `global_access` for all participants or specify individual `user_permissions`, but not both.
* When updating permissions, all existing permissions are removed and replaced with the new configuration.
* The owner of the session is not affected by these permissions.
* VNC usernames are automatically generated by the system and cannot be specified.
